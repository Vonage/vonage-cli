"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Input = void 0;
const enums_1 = require("../../enums");
class Input {
    action = enums_1.NCCOActions.INPUT;
    type = [];
    dtmf;
    speech;
    eventUrl = [];
    eventMethod;
    constructor(dtmf, speech, eventUrl, eventMethod) {
        if (dtmf) {
            this.type.push('dtmf');
            this.dtmf = dtmf;
        }
        if (speech) {
            this.type.push('speech');
            this.speech = speech;
        }
        if (eventUrl) {
            this.eventUrl.push(eventUrl);
        }
        if (eventMethod) {
            this.eventMethod = eventMethod;
        }
        if (this.type.length === 0) {
            throw new TypeError('Input action must have at least either DTMF or Speech settings');
        }
    }
    serializeToNCCO() {
        const data = {
            action: enums_1.NCCOActions.INPUT,
            type: this.type,
        };
        if (this.dtmf) {
            data.dtmf = this.dtmf;
        }
        if (this.speech) {
            data.speech = this.speech;
        }
        if (this.eventUrl) {
            data.eventUrl = this.eventUrl;
        }
        if (this.eventMethod) {
            data.eventMethod = this.eventMethod;
        }
        return data;
    }
}
exports.Input = Input;
//# sourceMappingURL=Input.js.map